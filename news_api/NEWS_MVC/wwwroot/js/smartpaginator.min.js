(function(n){n.fn.extend({smartpaginator:function(t){var i=n.extend({totalrecords:0,recordsperpage:0,length:10,next:"Next",prev:"Prev",first:"First",last:"Last",go:"Go",theme:"green",display:"double",initval:1,datacontainer:"",dataelement:"",onchange:null,controlsalways:!1},t);return this.each(function(){function w(t){e.find("span").remove();var r=(t+1)*i.recordsperpage;r>i.totalrecords&&(r=i.totalrecords);e.append(n("<span/>").append(n("<b/>").text(t*i.recordsperpage+1))).append(n("<span/>").text("-")).append(n("<span/>").append(n("<b/>").text(r))).append(n("<span/>").text("of")).append(n("<span/>").append(n("<b/>").text(i.totalrecords)))}function b(e){var o,s,h;if(r.find("li").remove(),!(i.totalrecords<=i.recordsperpage)){for(o=e;o<e+i.length;o++){if(o==u)break;r.append(n("<li/>").append(n("<a>").attr("id",o+1).addClass(i.theme).addClass("normal").attr("href","javascript:void(0)").text(o+1)).click(function(){t=e+n(this).closest("li").prevAll().length;l(t)}))}w(e);f.val(e+1);r.find("li a").addClass(i.theme).removeClass("active");r.find("li:eq(0) a").addClass(i.theme).addClass("active");s=r.find("li:eq(0) a").outerWidth()+parseInt(r.find("li:eq(0)").css("margin-left"))*2;h=s*r.find("li").length;r.css({width:h});k(e)}}function l(e){var p=e,h=i.length/2,c,s,o,l;if(i.length%2>0&&(h=(i.length+1)/2),c=0,e>=0&&e<u){if(e>=h&&(u-e>h?c=e-(h-1):u>i.length&&(c=u-i.length)),b(c),w(t),r.find("li a").removeClass("active"),f.val(t+1),r.find('li a[id="'+(p+1)+'"]').addClass("active"),s=t*i.recordsperpage,o=s+i.recordsperpage,o>i.totalrecords&&(o=i.totalrecords%o),y&&i.onchange!=null)i.onchange(t+1,s,o);if(v!=null&&v.length>0)for(a.css("display","none"),n(a[0]).find("th").length>0&&(n(a[0]).css("display",""),s++,o++),l=s;l<o;l++)n(a[l]).css("display","");k()}}function k(){u>i.length?(t>0?i.controlsalways?o.css("display","").removeClass("disabled"):o.css("display",""):i.controlsalways?o.css("display","").addClass("disabled"):o.css("display","none"),t>i.length/2-1?i.controlsalways?h.css("display","").removeClass("disabled"):h.css("display",""):i.controlsalways?h.css("display","").addClass("disabled"):h.css("display","none"),t==u-1?i.controlsalways?s.css("display","").addClass("disabled"):s.css("display","none"):i.controlsalways?s.css("display","").removeClass("disabled"):s.css("display",""),u>i.length&&t<u-i.length/2-1?i.controlsalways?c.css("display","").removeClass("disabled"):c.css("display",""):i.controlsalways?c.css("display","").addClass("disabled"):c.css("display","none")):i.controlsalways?(h.css("display","").addClass("disabled"),o.css("display","").addClass("disabled"),s.css("display","").addClass("disabled"),c.css("display","").addClass("disabled")):(h.css("display","none"),o.css("display","none"),s.css("display","none"),c.css("display","none"))}function d(n){var i=n.get(0).selectionStart,r=n.get(0).selectionEnd,t=document.selection;return t&&t.createRange().text.length!=0?!0:!t&&n.val().substring(i,r).length!=0?!0:!1}var t=0,u=parseInt(i.totalrecords/i.recordsperpage),y,e,v,a;i.totalrecords%i.recordsperpage>0&&u++;y=!1;e=n(this).addClass("pager").addClass(i.theme);e.find("ul").remove();e.find("div").remove();e.find("span").remove();i.datacontainer!=""&&(v=n("#"+i.datacontainer),a=n(""+i.dataelement+"",v));var r=n("<ul/>"),o=n("<div/>").text(i.prev).click(function(){if(n(this).hasClass("disabled"))return!1;t=parseInt(r.find("li a.active").text())-1;l(--t)}).addClass("btn"),s=n("<div/>").text(i.next).click(function(){if(n(this).hasClass("disabled"))return!1;t=parseInt(r.find("li a.active").text());l(t)}).addClass("btn"),h=n("<div/>").text(i.first).click(function(){if(n(this).hasClass("disabled"))return!1;t=0;l(0)}).addClass("btn"),c=n("<div/>").text(i.last).click(function(){if(n(this).hasClass("disabled"))return!1;t=u-1;l(t)}).addClass("btn"),f=n("<input/>").attr("type","text").keydown(function(n){if(d(f)&&f.val(""),n.which>=48&&n.which<58){var t=parseInt(f.val()+(n.which-48));t>0&&t<=u||n.preventDefault()}else n.which==8||n.which==46||n.preventDefault()}),p=n("<input/>").attr("type","button").attr("value",i.go).addClass("btn").click(function(){if(f.val()=="")return!1;t=parseInt(f.val())-1;l(t)});e.append(h).append(o).append(r).append(s).append(c).append(n("<div/>").addClass("short").append(f).append(p));i.display=="single"&&(p.css("display","none"),f.css("display","none"));b(0);i.initval==0&&(i.initval=1);t=i.initval-1;l(t);y=!0})}})})(jQuery);